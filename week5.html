<!doctype html>
<html>
<script scr="aframe/aframe.min.js"></script>
<script scr="AR.js-master/aframe/build/aframe-ar.js"></script>
<script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
<script type="text/javascript">
	window.addEventListener('camera-init', (data) => {
		console.log('camera-init', data);})
	window.addEventListener('camera-error', (error) => {
		console.log('camera-error', error);
	})

	AFRAME.registerComponent('registerevents', {
		init: function () {
			var marker = this.el;
			marker.addEventListener('markerFound', function() {
				console.log('markerFound', marker.id); });
			marker.addEventListener('markerLost', function() {
				console.log('markerLost', marker.id); 
			});
		}
	});

	AFRAME.registerComponent('jump', {
		init: function () {
			var obj = this.el;
			obj.addEventListener('click', function () {
				this.setAttribute('position', (Math.random()-0.5)+ "0" + (Math.random()-1.5) );
			});
		}
	});
</script>

	<a-scene embedded vr-mode-ui="enabled: false" embedded arjs="detectionMode: mono_and_matrix; matrixCodeType: 3x3;">

		<a-marker present="hiro" registerevents id="Hiro">
			<!--<a-box position="0 0.5 0" material="color: pink;"></a-box>-->
			<a-entity position="0 0.5 0" geometry="primitive: box; height: 1; width: 1; depth:1;" material="color: yellow;" jump><e-entity>
			<a-entity position="0 0 1" particle-system="preset: dust; color: yellow; size: 3"></a-entity>
		</a-marker>

		<a-marker preset="kanji" registerevents id="kanji">
			<e-box  position="0 0.5 0" material="color: blue;"><a-box>
			<a-entity position="0 0 1" particle-system="preset: snow; size: 10"></a-entity>
		</a-marker>

		<a-marker  type="barcode" value='1' registerevents id="barcode1">
			<a-box position="0 0.5 0" material="color: blue;"><a-box>
		</a-marker>

		<a-marker  type="barcode" value='2' registerevents id="barcode2">
			<a-box position="0 0.5 0" material="color: blue;"><a-box>
		</a-marker>

		<a-marker  type="barcode" value='3' registerevents id="barcode3">
			<a-box position="0 0.5 0" material="color: blue;"><a-box>
		</a-marker>

		<a-marker  type="barcode" value='4' registerevents id="barcode4">
			<a-box position="0 0.5 0" material="color: blue;"><a-box>
		</a-marker>

		<a-marker  type="barcode" value='5' registerevents id="barcode5">
			<a-box position="0 0.5 0" material="color: blue;"><a-box>
		</a-marker>

		<a-marker  type="pattern" url="pattern-butterfly.patt" registerevents id="photo">
			<a-entity geometry="primitive: box" material="color: red"animation__mouseenter="property: rotation; from:0 0 0; to: 0 0 360; startEvents: mouseenter; dur: 1000;" 
			animation__mouseleave= "property: components.material.material.color; type: color; from: blue; to: red; startEvents: mouseleave; dur: 1000;" jump> </a-entity> 
			<a-torus-knot position="-3 1 -5" color="pink" radius="0.6" radius-tubular="0.15" p="2" q="7" jump> </a-torus-knot>  
		</a-marker>

		<a-marker  type="barcode" value='7' registerevents id="barcode7">
			<a-box position="0 0.5 0" material="color: blue;"><a-box>
		</a-marker>

		<a-marker  type="barcode" value='8' registerevents id="barcode8">
			<a-box position="0 0.5 0" material="color: blue;"><a-box>
		</a-marker>

		<a-marker  type="barcode" value='9' registerevents id="barcode9">
			<a-box position="0 0.5 0" material="color: blue;"><a-box>
		</a-marker>

		<a-marker  type="barcode" value='10' registerevents id="barcode10">
			<a-box position="0 0.5 0" material="color: blue;"><a-box>
		</a-marker>

		<a-marker  type="barcode" value='11' registerevents id="barcode11">
			<a-box position="0 0.5 0" material="color: blue;"><a-box>
		</a-marker>

		<a-marker  type="barcode" value='12' registerevents id="barcode12" > 
			<a-box position="0 0.5 0" material="color: blue;"><a-box>
		</a-marker>

		<a-marker  type="barcode" value='13' registerevents id="barcode13">
			<a-box position="0 0.5 0" material="color: blue;"><a-box>
		</a-marker>

		<a-marker  type="barcode" value='14' registerevents id="barcode14">
			<a-box position="0 0.5 0" material="color: blue;"><a-box>
		</a-marker>

		<a-marker  type="barcode" value='15' registerevents id="barcode15">
			<a-box position="0 0.5 0" material="color: blue;"><a-box>
		</a-marker>

		<a-entity camera>
			<a-cursor></a-cursor>
		</a-entity>
		<a-entity hiro-detected></a-entity>
	</a-scene>
</html>
